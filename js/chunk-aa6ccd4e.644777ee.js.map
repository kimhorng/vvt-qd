{"version":3,"sources":["webpack:///./src/views/threeSixtyImage.vue?c9c7","webpack:///./src/views/threeSixtyImage.vue?c481","webpack:///src/views/threeSixtyImage.vue","webpack:///./src/views/threeSixtyImage.vue?8fb5","webpack:///./src/views/threeSixtyImage.vue?c397"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","container","document","getElementById","camera","scene","geometry","scale","add","mesh","renderer","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","appendChild","domElement","style","touchAction","addEventListener","onPointerDown","onDocumentMouseWheel","helper","onWindowResize","animate","aspect","updateProjectionMatrix","event","isPrimary","isUserInteracting","onPointerDownMouseX","clientX","onPointerDownMouseY","clientY","onPointerDownLon","lon","onPointerDownLat","lat","onPointerMove","onPointerUp","removeEventListener","requestAnimationFrame","update","Math","max","min","phi","theta","lookAt","x","y","z","component"],"mappings":"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","file":"js/chunk-aa6ccd4e.644777ee.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeSixtyImage.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-screen h-screen\"},[_c('div',{attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"w-screen h-screen\">\r\n\t<div id=\"container\"></div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcamera: null,\r\n\t\t\tcontainer: null,\r\n\t\t\tsence: null,\r\n\t\t\trenderer: null,\r\n\t\t\tisUserInteracting : false,\r\n\t\t\tonPointerDownMouseX : 0, \r\n\t\t\tonPointerDownMouseY : 0,\r\n\t\t\tlon : 0, \r\n\t\t\tonPointerDownLon : 0,\r\n\t\t\tlat : 0, \r\n\t\t\tonPointerDownLat : 0,\r\n\t\t\tphi : 0, \r\n\t\t\ttheta : 0\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tinit() {\r\n      this.container = document.getElementById(\"container\");\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        75,\r\n        window.innerWidth / window.innerHeight,\r\n        1,\r\n        1100\r\n      );\r\n      this.scene = new THREE.Scene();\r\n      const geometry = new THREE.SphereBufferGeometry(500, 60, 40);\r\n      // invert the geometry on the x-axis so that all of the faces point inward\r\n      geometry.scale(-1, 1, 1);\r\n      const texture = new THREE.TextureLoader().load(\"/panoramas/insideV.jpg\");\r\n      const material = new THREE.MeshBasicMaterial({ map: texture });\r\n      const mesh = new THREE.Mesh(geometry, material);\r\n      this.scene.add(mesh);\r\n      this.renderer = new THREE.WebGLRenderer();\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.container.appendChild(this.renderer.domElement);\r\n      this.container.style.touchAction = \"none\";\r\n      this.container.addEventListener(\"pointerdown\", this.onPointerDown, false);\r\n      document.addEventListener(\"wheel\", this.onDocumentMouseWheel, false);\r\n      //\r\n      document.addEventListener(\r\n        \"dragover\",\r\n        function (event) {\r\n          event.preventDefault();\r\n          event.dataTransfer.dropEffect = \"copy\";\r\n        },\r\n        false\r\n      );\r\n      document.addEventListener(\r\n        \"dragenter\",\r\n        function () {\r\n          document.body.style.opacity = 0.5;\r\n        },\r\n        false\r\n      );\r\n      document.addEventListener(\r\n        \"dragleave\",\r\n        function () {\r\n          document.body.style.opacity = 1;\r\n        },\r\n        false\r\n      );\r\n      document.addEventListener(\r\n        \"drop\",\r\n        function (event) {\r\n          event.preventDefault();\r\n          const reader = new FileReader();\r\n          reader.addEventListener(\r\n            \"load\",\r\n            function (event) {\r\n              material.map.image.src = event.target.result;\r\n              material.map.needsUpdate = true;\r\n            },\r\n            false\r\n          );\r\n          reader.readAsDataURL(event.dataTransfer.files[0]);\r\n          document.body.style.opacity = 1;\r\n        },\r\n        false\r\n      );\r\n      // Helper\r\n      {\r\n        const helper = new THREE.AxesHelper(10);\r\n        this.scene.add(helper);\r\n      }\r\n      //\r\n      window.addEventListener(\"resize\", this.onWindowResize, false);\r\n      this.animate();\r\n    },\r\n    onWindowResize() {\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    },\r\n    onPointerDown(event) {\r\n      if (event.isPrimary === false) return;\r\n      this.isUserInteracting = true;\r\n      this.onPointerDownMouseX = event.clientX;\r\n      this.onPointerDownMouseY = event.clientY;\r\n      this.onPointerDownLon = this.lon;\r\n      this.onPointerDownLat = this.lat;\r\n      document.addEventListener(\"pointermove\", this.onPointerMove, false);\r\n      document.addEventListener(\"pointerup\", this.onPointerUp, false);\r\n    },\r\n    onPointerMove(event) {\r\n      if (event.isPrimary === false) return;\r\n      this.lon =\r\n        (this.onPointerDownMouseX - event.clientX) * 0.1 +\r\n        this.onPointerDownLon;\r\n      this.lat =\r\n        (event.clientY - this.onPointerDownMouseY) * 0.1 +\r\n        this.onPointerDownLat;\r\n    },\r\n    onPointerUp() {\r\n      if (event.isPrimary === false) return;\r\n      this.isUserInteracting = false;\r\n      document.removeEventListener(\"pointermove\", this.onPointerMove);\r\n      document.removeEventListener(\"pointerup\", this.onPointerUp);\r\n    },\r\n    // onDocumentMouseWheel( event ) {\r\n    // \tconst fov = this.camera.fov + event.deltaY * 0.05;\r\n    // \tthis.camera.fov = THREE.MathUtils.clamp( fov, 10, 75 );\r\n    // \tthis.camera.updateProjectionMatrix();\r\n    // },\r\n    animate() {\r\n      requestAnimationFrame(this.animate);\r\n      this.update();\r\n    },\r\n    update() {\r\n      if (this.isUserInteracting === false) {\r\n        this.lon += 0.08;\r\n      }\r\n      this.lat = Math.max(-85, Math.min(85, this.lat));\r\n      this.phi = THREE.MathUtils.degToRad(90 - this.lat);\r\n      this.theta = THREE.MathUtils.degToRad(this.lon);\r\n      const x = 500 * Math.sin(this.phi) * Math.cos(this.theta);\r\n      const y = 500 * Math.cos(this.phi);\r\n      const z = 500 * Math.sin(this.phi) * Math.sin(this.theta);\r\n      this.camera.lookAt(x, y, z);\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n\t},\r\n\tmounted() {\r\n\t\tthis.init();\r\n\t\twindow.addEventListener('resize', this.onWindowResize, false);\r\n\t},\r\n}\r\n</script>\r\n<style>\r\n\t.background{\r\n\t\tcolor: #999999;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tposition: absolute;\r\n\t\tz-index: -100;\r\n\t}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeSixtyImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeSixtyImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threeSixtyImage.vue?vue&type=template&id=15d4ffd2&\"\nimport script from \"./threeSixtyImage.vue?vue&type=script&lang=js&\"\nexport * from \"./threeSixtyImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./threeSixtyImage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}